<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Check Calendar">
    <title>Check Calendar - Habit Tracker</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; }
        .bg-gray-50 { background-color: #f9fafb; }
        .bg-gray-100 { background-color: #f3f4f6; }
        .bg-gray-200 { background-color: #e5e7eb; }
        .bg-gray-300 { background-color: #d1d5db; }
        .bg-gray-700 { background-color: #374151; }
        .bg-gray-800 { background-color: #1f2937; }
        .bg-gray-900 { background-color: #111827; }
        .bg-white { background-color: #ffffff; }
        .bg-blue-50 { background-color: #eff6ff; }
        .bg-blue-500 { background-color: #3b82f6; }
        .bg-green-500 { background-color: #22c55e; }
        .bg-purple-500 { background-color: #a855f7; }
        .bg-pink-500 { background-color: #ec4899; }
        .bg-yellow-400 { background-color: #facc15; }
        .bg-yellow-500 { background-color: #eab308; }
        .bg-red-500 { background-color: #ef4444; }
        .bg-indigo-500 { background-color: #6366f1; }
        .bg-teal-500 { background-color: #14b8a6; }
        .text-white { color: #ffffff; }
        .text-gray-300 { color: #d1d5db; }
        .text-gray-400 { color: #9ca3af; }
        .text-gray-500 { color: #6b7280; }
        .text-gray-600 { color: #4b5563; }
        .text-gray-700 { color: #374151; }
        .text-gray-900 { color: #111827; }
        .text-blue-500 { color: #3b82f6; }
        .text-blue-800 { color: #1e40af; }
        .text-green-500 { color: #22c55e; }
        .text-purple-500 { color: #a855f7; }
        .text-red-500 { color: #ef4444; }
        .min-h-screen { min-height: 100vh; }
        .max-w-4xl { max-width: 56rem; margin: 0 auto; }
        .px-4 { padding-left: 1rem; padding-right: 1rem; }
        .py-2 { padding-top: 0.5rem; padding-bottom: 0.5rem; }
        .py-3 { padding-top: 0.75rem; padding-bottom: 0.75rem; }
        .py-4 { padding-top: 1rem; padding-bottom: 1rem; }
        .py-6 { padding-top: 1.5rem; padding-bottom: 1.5rem; }
        .p-2 { padding: 0.5rem; }
        .p-3 { padding: 0.75rem; }
        .p-4 { padding: 1rem; }
        .p-6 { padding: 1.5rem; }
        .mb-2 { margin-bottom: 0.5rem; }
        .mb-3 { margin-bottom: 0.75rem; }
        .mb-4 { margin-bottom: 1rem; }
        .mb-6 { margin-bottom: 1.5rem; }
        .mt-4 { margin-top: 1rem; }
        .gap-1 { gap: 0.25rem; }
        .gap-2 { gap: 0.5rem; }
        .gap-4 { gap: 1rem; }
        .flex { display: flex; }
        .grid { display: grid; }
        .grid-cols-3 { grid-template-columns: repeat(3, minmax(0, 1fr)); }
        .grid-cols-7 { grid-template-columns: repeat(7, minmax(0, 1fr)); }
        .grid-cols-8 { grid-template-columns: repeat(8, minmax(0, 1fr)); }
        .grid-cols-10 { grid-template-columns: repeat(10, minmax(0, 1fr)); }
        .items-center { align-items: center; }
        .justify-center { justify-content: center; }
        .justify-between { justify-content: space-between; }
        .flex-col { flex-direction: column; }
        .rounded-lg { border-radius: 0.5rem; }
        .rounded-full { border-radius: 9999px; }
        .text-xs { font-size: 0.75rem; }
        .text-sm { font-size: 0.875rem; }
        .text-lg { font-size: 1.125rem; }
        .text-xl { font-size: 1.25rem; }
        .text-2xl { font-size: 1.5rem; }
        .font-medium { font-weight: 500; }
        .font-bold { font-weight: 700; }
        .text-center { text-align: center; }
        .shadow-sm { box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05); }
        .shadow-lg { box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1); }
        .sticky { position: sticky; }
        .fixed { position: fixed; }
        .absolute { position: absolute; }
        .relative { position: relative; }
        .inset-0 { top: 0; right: 0; bottom: 0; left: 0; }
        .top-0 { top: 0; }
        .top-0\.5 { top: 0.125rem; }
        .right-0\.5 { right: 0.125rem; }
        .z-10 { z-index: 10; }
        .z-50 { z-index: 50; }
        .cursor-pointer { cursor: pointer; }
        .cursor-not-allowed { cursor: not-allowed; }
        .opacity-50 { opacity: 0.5; }
        .overflow-x-auto { overflow-x: auto; }
        .whitespace-nowrap { white-space: nowrap; }
        .transition-all { transition-property: all; transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1); transition-duration: 150ms; }
        .w-5 { width: 1.25rem; }
        .h-5 { height: 1.25rem; }
        .w-6 { width: 1.5rem; }
        .h-6 { height: 1.5rem; }
        .w-10 { width: 2.5rem; }
        .h-10 { height: 2.5rem; }
        .w-1\.5 { width: 0.375rem; }
        .h-1\.5 { height: 0.375rem; }
        .w-full { width: 100%; }
        .h-32 { height: 8rem; }
        .aspect-square { aspect-ratio: 1 / 1; }
        .bg-opacity-50 { --tw-bg-opacity: 0.5; }
        .bg-black { background-color: rgb(0 0 0 / var(--tw-bg-opacity, 1)); }
        button { background: none; border: none; color: inherit; cursor: pointer; }
        input, textarea { outline: none; border: none; }
        .hover\:bg-gray-100:hover { background-color: #f3f4f6; }
        .hover\:bg-gray-200:hover { background-color: #e5e7eb; }
        .hover\:bg-gray-300:hover { background-color: #d1d5db; }
        .hover\:bg-gray-600:hover { background-color: #4b5563; }
        .hover\:bg-gray-700:hover { background-color: #374151; }
        .hover\:bg-gray-800:hover { background-color: #1f2937; }
        .hover\:bg-blue-600:hover { background-color: #2563eb; }
        .ring-2 { box-shadow: 0 0 0 2px currentColor; }
        .ring-blue-500 { --tw-ring-color: #3b82f6; color: var(--tw-ring-color); }
        .ring-offset-2 { box-shadow: 0 0 0 2px #fff, 0 0 0 4px currentColor; }
        svg { width: 100%; height: 100%; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;

        const Calendar = () => (<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><rect x="3" y="4" width="18" height="18" rx="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>);
        const Plus = () => (<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="12" y1="5" x2="12" y2="19"/><line x1="5" y1="12" x2="19" y2="12"/></svg>);
        const BarChart3 = () => (<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M3 3v18h18"/><path d="M18 17V9"/><path d="M13 17V5"/><path d="M8 17v-3"/></svg>);
        const Moon = () => (<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>);
        const Sun = () => (<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>);
        const Lock = () => (<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><rect x="3" y="11" width="18" height="11" rx="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>);
        const ChevronLeft = () => (<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polyline points="15 18 9 12 15 6"/></svg>);
        const ChevronRight = () => (<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><polyline points="9 18 15 12 9 6"/></svg>);
        const X = () => (<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>);
        const Save = () => (<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"/><polyline points="17 21 17 13 7 13 7 21"/><polyline points="7 3 7 8 15 8"/></svg>);

        const HabitTrackerApp = () => {
            const [darkMode, setDarkMode] = useState(false);
            const [tabs, setTabs] = useState([{ id: 1, name: 'ÈÅãÂãï', emoji: 'üí™', color: 'bg-blue-500', archived: false, checks: {} }]);
            const [activeTab, setActiveTab] = useState(1);
            const [currentDate, setCurrentDate] = useState(new Date());
            const [showStats, setShowStats] = useState(false);
            const [showAddTab, setShowAddTab] = useState(false);
            const [showNoteModal, setShowNoteModal] = useState(false);
            const [selectedDateNote, setSelectedDateNote] = useState(null);
            const [locked, setLocked] = useState(false);

            const emojis = ['üí™', 'üìö', 'üßò', 'üíä', 'üíß', 'üèÉ', 'üéØ', '‚úçÔ∏è', 'üéµ', 'üçé', 'üò¥', 'üß†', '‚ù§Ô∏è', 'üåü', '‚ú®', 'üî•', '‚≠ê', 'üé®', 'üéÆ', '‚òï'];
            const colors = ['bg-blue-500', 'bg-green-500', 'bg-purple-500', 'bg-pink-500', 'bg-yellow-500', 'bg-red-500', 'bg-indigo-500', 'bg-teal-500'];

            const getDaysInMonth = (date) => {
                const year = date.getFullYear();
                const month = date.getMonth();
                const firstDay = new Date(year, month, 1);
                const lastDay = new Date(year, month + 1, 0);
                return { daysInMonth: lastDay.getDate(), startingDayOfWeek: firstDay.getDay(), year, month };
            };

            const formatDate = (year, month, day) => `${year}-${String(month + 1).padStart(2, '0')}-${String(day).padStart(2, '0')}`;

            const handleDayClick = (day) => {
                if (locked) return;
                const dateKey = formatDate(currentDate.getFullYear(), currentDate.getMonth(), day);
                setTabs(tabs.map(tab => {
                    if (tab.id === activeTab) {
                        const newChecks = { ...tab.checks };
                        if (newChecks[dateKey]?.count > 0) delete newChecks[dateKey];
                        else newChecks[dateKey] = { count: 1, note: newChecks[dateKey]?.note || '' };
                        return { ...tab, checks: newChecks };
                    }
                    return tab;
                }));
            };

            const handleDayLongPress = (day) => {
                const dateKey = formatDate(currentDate.getFullYear(), currentDate.getMonth(), day);
                setSelectedDateNote({ date: dateKey, day });
                setShowNoteModal(true);
            };

            const addNewTab = (name, emoji, color) => {
                const newTab = { id: Date.now(), name, emoji, color, archived: false, checks: {} };
                setTabs([...tabs, newTab]);
                setActiveTab(newTab.id);
                setShowAddTab(false);
            };

            const getCurrentTab = () => tabs.find(t => t.id === activeTab);

            const getMonthStats = () => {
                const currentTab = getCurrentTab();
                if (!currentTab) return { total: 0, daysChecked: 0, percentage: 0 };
                const { year, month, daysInMonth } = getDaysInMonth(currentDate);
                let total = 0, daysChecked = 0;
                for (let day = 1; day <= daysInMonth; day++) {
                    const dateKey = formatDate(year, month, day);
                    if (currentTab.checks[dateKey]) { total += currentTab.checks[dateKey].count; daysChecked++; }
                }
                return { total, daysChecked, percentage: Math.round((daysChecked / daysInMonth) * 100) };
            };

            const renderCalendar = () => {
                const { daysInMonth, startingDayOfWeek, year, month } = getDaysInMonth(currentDate);
                const weekDays = ['Êó•', 'Êúà', 'ÁÅ´', 'Ê∞¥', 'Êú®', 'Èáë', 'Âúü'];
                const currentTab = getCurrentTab();
                const calendarDays = [];

                for (let i = 0; i < startingDayOfWeek; i++) calendarDays.push(<div key={`empty-${i}`} className="aspect-square" />);

                for (let day = 1; day <= daysInMonth; day++) {
                    const dateKey = formatDate(year, month, day);
                    const checkData = currentTab?.checks[dateKey];
                    const isChecked = checkData?.count > 0;

                    calendarDays.push(
                        <div key={day} onClick={() => handleDayClick(day)} onDoubleClick={() => handleDayLongPress(day)}
                            className={`aspect-square rounded-lg flex flex-col items-center justify-center cursor-pointer transition-all relative
                                ${isChecked ? currentTab?.color : darkMode ? 'bg-gray-800 hover:bg-gray-700' : 'bg-gray-100 hover:bg-gray-200'}
                                ${locked ? 'cursor-not-allowed opacity-50' : ''}`}>
                            <span className={`text-sm font-medium ${isChecked ? 'text-white' : darkMode ? 'text-gray-300' : 'text-gray-700'}`}>{day}</span>
                            {checkData?.note && <div className="absolute top-0.5 right-0.5 w-1.5 h-1.5 bg-yellow-400 rounded-full" />}
                        </div>
                    );
                }

                return (
                    <>
                        <div className="grid grid-cols-7 gap-1 mb-2">
                            {weekDays.map((day, i) => <div key={i} className={`text-center text-xs font-medium py-2 ${darkMode ? 'text-gray-400' : 'text-gray-600'}`}>{day}</div>)}
                        </div>
                        <div className="grid grid-cols-7 gap-1">{calendarDays}</div>
                    </>
                );
            };

            const stats = getMonthStats();

            return (
                <div className={`min-h-screen ${darkMode ? 'bg-gray-900 text-white' : 'bg-gray-50 text-gray-900'}`}>
                    <div className={`${darkMode ? 'bg-gray-800' : 'bg-white'} shadow-sm sticky top-0 z-10`}>
                        <div className="max-w-4xl px-4 py-4">
                            <div className="flex items-center justify-between mb-4">
                                <div className="flex items-center gap-2">
                                    <div className="w-6 h-6 text-blue-500"><Calendar /></div>
                                    <h1 className="text-xl font-bold">Check Calendar</h1>
                                </div>
                                <div className="flex items-center gap-2">
                                    <button onClick={() => setShowStats(!showStats)} className={`p-2 rounded-lg ${darkMode ? 'hover:bg-gray-700' : 'hover:bg-gray-100'}`}>
                                        <div className="w-5 h-5"><BarChart3 /></div>
                                    </button>
                                    <button onClick={() => setDarkMode(!darkMode)} className={`p-2 rounded-lg ${darkMode ? 'hover:bg-gray-700' : 'hover:bg-gray-100'}`}>
                                        <div className="w-5 h-5">{darkMode ? <Sun /> : <Moon />}</div>
                                    </button>
                                    <button onClick={() => setLocked(!locked)} className={`p-2 rounded-lg ${locked ? 'text-red-500' : ''} ${darkMode ? 'hover:bg-gray-700' : 'hover:bg-gray-100'}`}>
                                        <div className="w-5 h-5"><Lock /></div>
                                    </button>
                                </div>
                            </div>
                            <div className="flex items-center gap-2 overflow-x-auto pb-2">
                                {tabs.filter(t => !t.archived).map(tab => (
                                    <button key={tab.id} onClick={() => setActiveTab(tab.id)}
                                        className={`flex items-center gap-2 px-4 py-2 rounded-lg whitespace-nowrap transition-all
                                            ${activeTab === tab.id ? `${tab.color} text-white shadow-lg` : darkMode ? 'bg-gray-700 hover:bg-gray-600' : 'bg-gray-200 hover:bg-gray-300'}`}>
                                        <span className="text-lg">{tab.emoji}</span>
                                        <span className="font-medium">{tab.name}</span>
                                    </button>
                                ))}
                                <button onClick={() => setShowAddTab(true)} className={`p-2 rounded-lg ${darkMode ? 'bg-gray-700 hover:bg-gray-600' : 'bg-gray-200 hover:bg-gray-300'}`}>
                                    <div className="w-5 h-5"><Plus /></div>
                                </button>
                            </div>
                        </div>
                    </div>

                    <div className="max-w-4xl px-4 py-6">
                        <div className="flex items-center justify-between mb-6">
                            <button onClick={() => setCurrentDate(new Date(currentDate.getFullYear(), currentDate.getMonth() - 1))} className={`p-2 rounded-lg ${darkMode ? 'hover:bg-gray-800' : 'hover:bg-gray-200'}`}>
                                <div className="w-5 h-5"><ChevronLeft /></div>
                            </button>
                            <h2 className="text-lg font-bold">{currentDate.getFullYear()}Âπ¥ {currentDate.getMonth() + 1}Êúà</h2>
                            <button onClick={() => setCurrentDate(new Date(currentDate.getFullYear(), currentDate.getMonth() + 1))} className={`p-2 rounded-lg ${darkMode ? 'hover:bg-gray-800' : 'hover:bg-gray-200'}`}>
                                <div className="w-5 h-5"><ChevronRight /></div>
                            </button>
                        </div>

                        {showStats && (
                            <div className={`${darkMode ? 'bg-gray-800' : 'bg-white'} rounded-lg p-4 mb-6 shadow-sm`}>
                                <h3 className="font-bold mb-3">‰ªäÊúà„ÅÆÁµ±Ë®à</h3>
                                <div className="grid grid-cols-3 gap-4">
                                    <div><p className="text-sm text-gray-500">Á∑è„ÉÅ„Çß„ÉÉ„ÇØÊï∞</p><p className="text-2xl font-bold text-blue-500">{stats.total}</p></div>
                                    <div><p className="text-sm text-gray-500">ÂÆüÊñΩÊó•Êï∞</p><p className="text-2xl font-bold text-green-500">{stats.daysChecked}</p></div>
                                    <div><p className="text-sm text-gray-500">ÈÅîÊàêÁéá</p><p className="text-2xl font-bold text-purple-500">{stats.percentage}%</p></div>
                                </div>
                            </div>
                        )}

                        <div className={`${darkMode ? 'bg-gray-800' : 'bg-white'} rounded-lg p-4 shadow-sm`}>{renderCalendar()}</div>
                        <div className={`mt-4 p-3 rounded-lg text-sm ${darkMode ? 'bg-gray-800' : 'bg-blue-50'}`}>
                            <p className={darkMode ? 'text-gray-300' : 'text-blue-800'}>üí° „Çø„ÉÉ„Éó„Åß„ÉÅ„Çß„ÉÉ„ÇØ„ÄÅ„ÉÄ„Éñ„É´„Çø„ÉÉ„Éó„Åß„É°„É¢„ÇíËøΩÂä†</p>
                        </div>
                    </div>

                    {showAddTab && (
                        <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50">
                            <div className={`${darkMode ? 'bg-gray-800' : 'bg-white'} rounded-lg p-6 max-w-4xl w-full`}>
                                <div className="flex items-center justify-between mb-4">
                                    <h3 className="text-lg font-bold">Êñ∞„Åó„ÅÑÁøíÊÖ£„ÇíËøΩÂä†</h3>
                                    <button onClick={() => setShowAddTab(false)}><div className="w-5 h-5"><X /></div></button>
                                </div>
                                <input type="text" placeholder="ÁøíÊÖ£ÂêçÔºà‰æã: ÈÅãÂãïÔºâ" id="habit-name" className={`w-full px-4 py-2 rounded-lg mb-4 ${darkMode ? 'bg-gray-700 text-white' : 'bg-gray-100'}`} />
                                <div className="mb-4">
                                    <p className="text-sm mb-2">ÁµµÊñáÂ≠ó„ÇíÈÅ∏Êäû</p>
                                    <div className="grid grid-cols-10 gap-2">
                                        {emojis.map((emoji, i) => (
                                            <button key={i} onClick={(e) => { document.querySelectorAll('.emoji-btn').forEach(btn => btn.classList.remove('ring-2', 'ring-blue-500')); e.currentTarget.classList.add('ring-2', 'ring-blue-500'); }}
                                                className={`emoji-btn text-2xl p-2 rounded-lg ${darkMode ? 'hover:bg-gray-700' : 'hover:bg-gray-100'}`}>{emoji}</button>
                                        ))}
                                    </div>
                                </div>
                                <div className="mb-4">
                                    <p className="text-sm mb-2">„Ç´„É©„Éº„ÇíÈÅ∏Êäû</p>
                                    <div className="grid grid-cols-8 gap-2">
                                        {colors.map((color, i) => (
                                            <button key={i} onClick={(e) => { document.querySelectorAll('.color-btn').forEach(btn => btn.classList.remove('ring-2', 'ring-offset-2')); e.currentTarget.classList.add('ring-2', 'ring-offset-2', 'ring-blue-500'); }}
                                                className={`color-btn w-10 h-10 rounded-lg ${color}`} />
                                        ))}
                                    </div>
                                </div>
                                <button onClick={() => {
                                    const name = document.getElementById('habit-name').value;
                                    const selectedEmoji = document.querySelector('.emoji-btn.ring-2')?.textContent || '‚≠ê';
                                    const selectedColor = document.querySelector('.color-btn.ring-2')?.className.match(/bg-\w+-\d+/)?.[0] || 'bg-blue-500';
                                    if (name) addNewTab(name, selectedEmoji, selectedColor);
                                }} className="w-full bg-blue-500 text-white py-3 rounded-lg font-medium hover:bg-blue-600">ËøΩÂä†</button>
                            </div>
                        </div>
                    )}

                    {showNoteModal && selectedDateNote && (
                        <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50">
                            <div className={`${darkMode ? 'bg-gray-800' : 'bg-white'} rounded-lg p-6 max-w-4xl w-full`}>
                                <div className="flex items-center justify-between mb-4">
                                    <h3 className="text-lg font-bold">{selectedDateNote.day}Êó•„ÅÆ„É°„É¢</h3>
                                    <button onClick={() => setShowNoteModal(false)}><div className="w-5 h-5"><X /></div></button>
                                </div>
                                <textarea defaultValue={getCurrentTab()?.checks[selectedDateNote.date]?.note || ''} placeholder="ÊÑüÊÉ≥„ÇÑÊ∞ó„Å•„Åç„ÇíË®òÈå≤..." id="note-textarea"
                                    className={`w-full px-4 py-2 rounded-lg mb-4 h-32 ${darkMode ? 'bg-gray-700 text-white' : 'bg-gray-100'}`} />
                                <button onClick={() => {
                                    const note = document.getElementById('note-textarea').value;
                                    setTabs(tabs.map(tab => {
                                        if (tab.id === activeTab) {
                                            const newChecks = { ...tab.checks };
                                            if (!newChecks[selectedDateNote.date]) newChecks[selectedDateNote.date] = { count: 0, note: '' };
                                            newChecks[selectedDateNote.date].note = note;
                                            return { ...tab, checks: newChecks };
                                        }
                                        return tab;
                                    }));
                                    setShowNoteModal(false);
                                }} className="w-full bg-blue-500 text-white py-3 rounded-lg font-medium hover:bg-blue-600 flex items-center justify-center gap-2">
                                    <div className="w-5 h-5"><Save /></div>‰øùÂ≠ò
                                </button>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        ReactDOM.render(<HabitTrackerApp />, document.getElementById('root'));
    </script>
</body>
</html>